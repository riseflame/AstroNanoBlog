---
import { getCollection } from "astro:content";
import Container from "@components/Container.astro";
import PageLayout from "@layouts/PageLayout.astro";
import ArrowCard from "@components/ArrowCard.astro";
import Link from "@components/Link.astro";
import { dateRange } from "@lib/utils";
import { SITE, HOME, SOCIALS } from "@consts";

const blog = (await getCollection("blog"))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0,SITE.NUM_POSTS_ON_HOMEPAGE);

const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0,SITE.NUM_PROJECTS_ON_HOMEPAGE);

const allwork = (await getCollection("work"))
  .sort((a, b) => new Date(b.data.dateStart).valueOf() - new Date(a.data.dateStart).valueOf())
  .slice(0,SITE.NUM_WORKS_ON_HOMEPAGE);

const work = await Promise.all(
  allwork.map(async (item) => {
    const { Content } = await item.render();
    return { ...item, Content };
  })
);

---


<PageLayout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <h1 style="text-align:center;padding-bottom:20px;font-size:large">刘泽正 </h1>
  <Container>
    
    <div class="space-y-10">
      <section>
        <p class="animate text-sm opacity-75">
          人工智能软件工程师/应用软件工程师
        </p>
        <p class="animate text-sm opacity-75">
          东方空间科技有限公司 软件事业部
        </p>
        <p class="animate text-sm opacity-75">
          北京市大兴区亦庄经济技术开发区荣华中路数码庄园B座2楼
        </p>
      </section>

      <section>
        <h4 class="animate font-semibold text-black dark:text-white text-2xl mb-4">
          <span class="text-xl">👋</span> About me
        </h4>
        <article class="space-y-4">
          <p class="animate">
            我目前在东方空间担任人工智能软件工程师/应用软件工程师。
            在此之前，我是大连理工大学软件工程专业的硕士研究生(2022-2025)，师从
            <Link href="https://faculty.dlut.edu.cn/guqi/" external>贾棋</Link>
            教授，期间在DUT Media实验室工作。在攻读硕士学位之前, 我在大连交通大学获得了机械工程和软件工程的学士学位(2017-2022)。
          </p>
          <p class="animate">
            我当前的工作涉及到计算机视觉模型的边缘部署与加速，AI Infra，与火箭地面软件开发。
            我深深热衷于分享自己的经验与技术，您可以点击右上角的project或blog查看我过往的工作。
            如果您对我的工作感兴趣，或者在您的工作中存在我可以解决的问题，欢迎随时与我联系交流。
          </p>
          <ul class="animate space-y-2">
            <li>
              <Link href="https://segmentfault.com/u/zengshenaiguodejinyu/articles" aria-label="SegmentFault" external>
                📚 SegmentFault
              </Link>
            </li>
            <li>
              <Link href="https://github.com/riseflame" aria-label="GitHub" external>
                💼 GitHub
              </Link>
            </li>
            <li>
              <Link href="mailto:dongbeibubai@163.com" aria-label="Email">
                ✉️ dongbeibubai@163.com
              </Link>
            </li>
          </ul>
        </article>
      </section>

      <section>
        <h4 class="animate font-semibold text-black dark:text-white text-2xl mb-4">
          🔥 News
        </h4>
        <ul class="animate space-y-3">
          <li class="text-sm">
            <span class="opacity-75">Apr. 2025:</span> 
            <span class="ml-2">🎉 一篇论文被Signal Processing接收。</span>
          </li>
          <li class="text-sm">
            <span class="opacity-75">Apr. 2024:</span> 
            <span class="ml-2">🎉 一篇论文被 ACM MM 接收（共同作者），感谢龙晗。</span>
          </li>
        </ul>
      </section>

      <section class="animate space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h4 class="font-semibold text-black dark:text-white text-2xl">
            📝 Latest posts
          </h4>
          <Link href="/blog">
            See all posts
          </Link>
        </div>
        <ul class="flex flex-col gap-4">
          {blog.map(post => (
            <li>
              <ArrowCard entry={post} />
            </li>
          ))}
        </ul>
      </section>

      <section class="animate space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h4 class="font-semibold text-black dark:text-white text-2xl">
            💼 Work Experience
          </h4>
          <Link href="/work">
            See all work
          </Link>
        </div>
        <ul class="flex flex-col space-y-4">
          {work.map(entry => (
            <li>
              <div class="text-sm opacity-75">
                {dateRange(entry.data.dateStart, entry.data.dateEnd)}
              </div>
              <div class="font-semibold text-black dark:text-white">
                {entry.data.company}
              </div>
              <div class="text-sm opacity-75">
                {entry.data.role}
              </div>
              <article>
                <entry.Content />
              </article>
            </li>
          ))}
        </ul>
      </section>

      <section class="animate space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h4 class="font-semibold text-black dark:text-white text-2xl">
            🚀 Recent projects
          </h4>
          <Link href="/projects">
            See all projects
          </Link>
        </div>
        <ul class="flex flex-col gap-4">
          {projects.map(project => (
            <li>
              <ArrowCard entry={project} />
            </li>
          ))}
        </ul>
      </section>
    </div>
  </Container>
</PageLayout>
